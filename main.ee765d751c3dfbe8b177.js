!function(e){function t(t){for(var n,o,c=t[0],s=t[1],l=t[2],m=0,f=[];m<c.length;m++)o=c[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],n=!0,c=1;c<a.length;c++){var s=a[c];0!==r[s]&&(n=!1)}n&&(i.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},r={0:0},i=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([124,1]),a()}({124:function(e,t,a){a(125),e.exports=a(324)},315:function(e,t,a){},316:function(e,t,a){var n={"./ico-01.png":317,"./ico-02.png":318,"./ico-03.png":319,"./ico-04.png":320,"./ico-05.png":321,"./ico-06.png":322,"./ico-07.png":323};function r(e){var t=i(e);return a(t)}function i(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id=316},317:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/ico-01.png"},318:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/ico-02.png"},319:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/ico-03.png"},320:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/ico-04.png"},321:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/ico-05.png"},322:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/ico-06.png"},323:function(e,t,a){"use strict";a.r(t),t.default=a.p+"assets/images/ico-07.png"},324:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(123),o=a.n(i),c=(a(315),function(e){var t=e.period,a=e.setPeriod;return r.a.createElement("div",{className:"mainform__period"},r.a.createElement("button",{value:"1",onClick:a,disabled:1===t,className:"mainform__btn-option"},"day"),r.a.createElement("button",{value:"3",onClick:a,disabled:3===t,className:"mainform__btn-option"},"3 days"),r.a.createElement("button",{value:"7",onClick:a,disabled:7===t,className:"mainform__btn-option"},"week"),r.a.createElement("button",{value:"14",onClick:a,disabled:14===t,className:"mainform__btn-option"},"2 weeks"))}),s=function(e){var t=e.celsius,a=e.setUnit;return r.a.createElement("div",{className:"mainform__unit"},r.a.createElement("button",{value:"celsius",onClick:a,disabled:t,className:"mainform__btn-option"},"Celsius"),r.a.createElement("button",{value:"fahrenheit",onClick:a,disabled:!t,className:"mainform__btn-option"},"Fahrenheit"))},l=function(e){var t=e.onClick;return r.a.createElement("button",{className:"mainform__btn-menu",onClick:t,tabIndex:"0"},r.a.createElement("div",{className:"mainform__burger"},r.a.createElement("div",{className:"mainform__burger__inner"})),r.a.createElement("span",{className:"visuallyhidden"},"Menu"))},u=function(e){var t=e.onClick;return r.a.createElement("div",{className:"mainform__actions"},r.a.createElement("button",{className:"mainform__btn-close",onClick:t,tabIndex:"0"},"Close menu"))},m=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"white"},r.a.createElement("defs",null,r.a.createElement("path",{id:"a",d:"M0 0h24v24H0z"})),r.a.createElement("path",{d:"M11 8.75v3.68c0 .35.19.68.49.86l3.12 1.85c.36.21.82.09 1.03-.26.21-.36.1-.82-.26-1.03l-2.87-1.71v-3.4c-.01-.4-.35-.74-.76-.74-.41 0-.75.34-.75.75zm10 .75V4.21c0-.45-.54-.67-.85-.35l-1.78 1.78c-1.81-1.81-4.39-2.85-7.21-2.6-4.19.38-7.64 3.75-8.1 7.94C2.46 16.4 6.69 21 12 21c4.59 0 8.38-3.44 8.93-7.88.07-.6-.4-1.12-1-1.12-.5 0-.92.37-.98.86-.43 3.49-3.44 6.19-7.05 6.14-3.71-.05-6.84-3.18-6.9-6.9C4.94 8.2 8.11 5 12 5c1.93 0 3.68.79 4.95 2.05l-2.09 2.09c-.32.32-.1.86.35.86h5.29c.28 0 .5-.22.5-.5z"}))},f=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"white"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))},d=function(e){var t=e.onClick,a=e.loading,n=a?"loading...":"Search";return r.a.createElement("button",{tabIndex:"0",onClick:function(e){e.currentTarget.blur(),t()},disabled:a,className:"mainform__btn-submit"},r.a.createElement("span",{className:"mainform__search-text"},n),r.a.createElement("span",{className:"mainform__search-icon"},a?r.a.createElement(m,null):r.a.createElement(f,null)))},y=function(e){var t=e.city,a=e.setCity,n=e.submitCity,i=e.loading;return r.a.createElement("input",{type:"text",value:t+(i?"...":""),tabIndex:"0",disabled:i,placeholder:"e.g. New York",className:"mainform__input",onChange:function(e){return a(e.target.value)},onKeyDown:function(e){return"Enter"===e.key&&n()}})};function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,r=!1,i=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var h=function(e){var t=p(Object(n.useState)(!1),2),a=t[0],i=t[1],o=p(Object(n.useState)(void 0),2),m=o[0],f=o[1],v="mainform__options";a||(v+="--hide");var h=function(){e.submitCity(void 0===m?e.city:m)};return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__inner"},r.a.createElement("h1",{className:"header__title"},"Weather forecast"),r.a.createElement("div",{className:"mainform"},r.a.createElement(l,{onClick:function(){i(!0),e.setContentVisibility(!1)}}),r.a.createElement("div",{className:"mainform__central"},r.a.createElement(y,{city:void 0===m?e.city:m,setCity:f,submitCity:h,loading:"loading"===e.appStatus}),r.a.createElement("div",{className:v},r.a.createElement(c,{period:e.period,setPeriod:e.setPeriod}),r.a.createElement(s,{celsius:e.celsius,setUnit:e.setUnit}),r.a.createElement(u,{onClick:function(){i(!1),e.setContentVisibility(!0)}}))),r.a.createElement(d,{onClick:h,loading:"loading"===e.appStatus}))))},b=function(e){return r.a.createElement("div",{className:"city-name"},r.a.createElement("label",{className:"city-name__favorite"},r.a.createElement("input",{type:"checkbox",name:"favorite",className:"city-name__checkbox",onChange:e.onChangeFavorite,checked:e.isFavorite}),r.a.createElement("span",{className:"city-name__value"},r.a.createElement("span",{className:"city-name__value__inner"},"favorite city"))),r.a.createElement("h1",{className:"city-name__title"},e.city))},_=a.p+"assets/images/spinner.svg",g=function(){return r.a.createElement("div",{className:"progress-bar"},r.a.createElement("img",{src:_,alt:"Loading...",className:"progress-bar__img"}))},E=function(e){var t=e.error;return r.a.createElement("div",{className:"error"},r.a.createElement("p",{className:"error__message"},t))};function w(e,t){window.history.pushState({},t,"?city="+e.split(" ").join("_"))}function N(e){for(var t in e=e.split(" "))e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join(" ")}function C(e,t){var a=["January","February","March","April","May","June","July","August","September","October","November","December"],n=new Date(1e3*e);switch(t){case"D Month YYYY":return n.getDate()+" "+a[n.getMonth()]+" "+n.getFullYear();case"D Month":return n.getDate()+" "+a[n.getMonth()];case"Day":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()];default:return n.toDateString()}}function S(e){return(9*e/5+32).toFixed(2)}function k(e){return!(!window.localStorage||!e)&&(window.localStorage.setItem("react-weather-app_favorite-city",e),!0)}function O(){return!!window.localStorage&&(window.localStorage.removeItem("react-weather-app_favorite-city"),!0)}var j=function(e){var t,n=e.data,i=e.celsius,o=n.temp+"°C",c=n.max_temp+"°C",s=n.min_temp+"°C";return i||(o=S(n.temp)+"°F",c=S(n.max_temp)+"°F",s=S(n.min_temp)+"°F"),t=function(e){var t={"ico-01":"c01d","ico-03":"c04d","ico-02":"c03d;c02d;c02d","ico-04":"a06d;a05d;a04d;a03d;a02d;a01d","ico-06":"t05d;t04d;t04d;t04d;t03d;t02d;t01d","ico-05":"u00d;r06d;r05d;r04d;f01d;r03d;r02d;r01d","ico-07":"s06d;s02d;s01d;s05d;s05d;s04d;s03d;s02d;s01d;d03d;d02d;d01d"};for(var a in t)if(~t[a].indexOf(e))return a+".png";return""}(n.weather.icon),t=a(316)("./"+t).default,r.a.createElement("div",{className:"day"},r.a.createElement("div",{className:"day__date"},r.a.createElement("div",{className:"day__date-full"},C(n.ts,"D Month")),r.a.createElement("div",{className:"day__date-day"},C(n.ts,"Day"))),r.a.createElement("div",{className:"day__icon"},r.a.createElement("img",{src:t,alt:n.weather.description,className:"day__img"})),r.a.createElement("div",{className:"day__temp-avg"},o),r.a.createElement("div",{className:"day__description"},n.weather.description),r.a.createElement("div",{className:"day__item"},r.a.createElement("div",{className:"day__item-key"},"Maximum temperature"),r.a.createElement("div",{className:"day__item-val"},c)),r.a.createElement("div",{className:"day__item"},r.a.createElement("div",{className:"day__item-key"},"Minimum temperature"),r.a.createElement("div",{className:"day__item-val"},s)),r.a.createElement("div",{className:"day__item"},r.a.createElement("div",{className:"day__item-key"},"Pressure"),r.a.createElement("div",{className:"day__item-val"},n.pres," mb")),r.a.createElement("div",{className:"day__item"},r.a.createElement("div",{className:"day__item-key"},"Humidity"),r.a.createElement("div",{className:"day__item-val"},n.rh," %")),r.a.createElement("div",{className:"day__item"},r.a.createElement("div",{className:"day__item-key"},"Wind"),r.a.createElement("div",{className:"day__item-val"},n.wind_cdir_full,", ",n.wind_spd," m/s")))},x=function(e){var t=e.forecast,a=e.period,n=e.celsius;return r.a.createElement("div",{className:"forecast"},t.data.slice(0,a).map((function(e){return r.a.createElement(j,{key:e.uid,data:e,celsius:n})})))},M=function(e){var t,a="main";switch(e.visible||(a+="--hide"),e.status){case"loading":t=r.a.createElement(g,null);break;case"error":t=r.a.createElement(E,{error:e.error});break;case"done":t=r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{city:e.forecast.city_name,onChangeFavorite:e.onChangeFavorite,isFavorite:e.favoriteCity===e.forecast.city_name}),r.a.createElement(x,{forecast:e.forecast,period:e.period,celsius:e.celsius}));break;default:t=null}return r.a.createElement("main",{className:a},t)};function P(e,t){var a;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return F(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0,r=function(){};return{s:r,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(c)throw i}}}}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var D=[];function A(e){var t="https:"===window.location.protocol?"https://":"http://",a="".concat(t).concat("api.weatherbit.io/v2.0/forecast/daily","?key=").concat("351954d3a30a4b60ad716f1c73cc43ee","&lang=en&units=M&days=16&city=").concat(e);return fetch(a).then((function(e){if(200===e.status)return e.json();throw new Error(e.status)})).then((function(e){return function(e){return e.timestamp=Math.floor(Date.now()/1e3),e.cached_city=e.city_name.toLowerCase(),e.data=e.data.map((function(e,t){return e.uid=t,e})),D.unshift(e),e}(e)}))}var I=function(e){if(!function(e){return e.search(/^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$/)>=0}(e))return new Promise((function(){throw new Error(600)}));var t=function(e){var t=Math.floor(Date.now()/1e3);e=e.toLowerCase();var a,n=P(D);try{for(n.s();!(a=n.n()).done;){var r=a.value;if(e===r.cached_city&&t-r.timestamp<21600)return r}}catch(e){n.e(e)}finally{n.f()}}(e);return t?new Promise((function(e){return e(t)})):A(e)};function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=W(e);if(t){var r=W(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return V(this,a)}}function V(e,t){return!t||"object"!==U(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return(W=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function B(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(o,e);var t,a,n,i=L(o);function o(){var e;T(this,o);for(var t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return B(Y(e=i.call.apply(i,[this].concat(a))),"state",{city:"",period:3,celsius:!0,forecast:null,status:"nothing",error:"",visible:!0,favoriteCity:""}),B(Y(e),"setPeriod",(function(t){t.target.blur(),e.setState({period:Number(t.target.value)})})),B(Y(e),"setUnit",(function(t){t.target.blur(),e.setState({celsius:"celsius"===t.target.value})})),B(Y(e),"onChangeFavorite",(function(t){t.target.checked?k(e.state.city)&&e.setState({favoriteCity:e.state.city}):O()&&e.setState({favoriteCity:""})})),B(Y(e),"getForecastByCity",(function(t){I(t).then((function(a){w(t,"Weather: ".concat(t)),document.title="Weather: ".concat(t),e.setState({status:"done",forecast:a})})).catch((function(t){var a;switch(document.title="Weather: error",Number(t.message)){case 204:a="No forecast available";break;case 600:a="Invalid city name";break;default:a="Server is not available, please try again later"}e.setState({status:"error",error:a,forecast:null})}))})),B(Y(e),"setContentVisibility",(function(t){e.setState({visible:t})})),B(Y(e),"submitCity",(function(t,a){var n={status:"loading",error:"",city:t=N(t)};a&&(n.favoriteCity=t),e.setState(n),e.getForecastByCity(t)})),e}return t=o,(a=[{key:"componentDidMount",value:function(){var e=function(){if(window.URLSearchParams){var e=new URLSearchParams(window.location.search).get("city")||"";return e?e.split("_").join(" "):""}return""}(),t=window.localStorage&&window.localStorage.getItem("react-weather-app_favorite-city")||"";e?this.submitCity(e,e===t):t&&this.submitCity(t,!0)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,{city:this.state.city,period:this.state.period,setPeriod:this.setPeriod,celsius:this.state.celsius,setUnit:this.setUnit,submitCity:this.submitCity,appStatus:this.state.status,setContentVisibility:this.setContentVisibility}),r.a.createElement(M,{status:this.state.status,error:this.state.error,forecast:this.state.forecast,period:this.state.period,celsius:this.state.celsius,onChangeFavorite:this.onChangeFavorite,visible:this.state.visible,favoriteCity:this.state.favoriteCity}))}}])&&z(t.prototype,a),n&&z(t,n),o}(n.Component),H=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"footer__sign"},"©")," ",r.a.createElement("span",{className:"footer__year"},(e=2018,t=(new Date).getFullYear(),e===t?e:"".concat(e," - ").concat(t)))," ",r.a.createElement("a",{href:"https://github.com/ermondel",target:"_blank",rel:"noreferrer",title:"Author",className:"footer__link"},"ermondel"));var e,t};o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement(H,null)),document.getElementById("root"))}});