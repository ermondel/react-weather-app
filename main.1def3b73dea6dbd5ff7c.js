!function(e){function t(t){for(var a,o,c=t[0],s=t[1],l=t[2],m=0,f=[];m<c.length;m++)o=c[m],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&f.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);for(u&&u(t);f.length;)f.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==r[s]&&(a=!1)}a&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},r={0:0},i=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var c=window.webpackJsonp=window.webpackJsonp||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;i.push([124,1]),n()}({124:function(e,t,n){n(125),e.exports=n(324)},315:function(e,t,n){},316:function(e,t,n){var a={"./ico-01.png":317,"./ico-02.png":318,"./ico-03.png":319,"./ico-04.png":320,"./ico-05.png":321,"./ico-06.png":322,"./ico-07.png":323};function r(e){var t=i(e);return n(t)}function i(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id=316},317:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/ico-01.png"},318:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/ico-02.png"},319:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/ico-03.png"},320:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/ico-04.png"},321:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/ico-05.png"},322:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/ico-06.png"},323:function(e,t,n){"use strict";n.r(t),t.default=n.p+"assets/images/ico-07.png"},324:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(123),o=n.n(i),c=(n(315),function(e){var t=e.period,n=e.setPeriod;return r.a.createElement("div",{className:"mainform__period"},r.a.createElement("button",{value:"1",onClick:n,disabled:1===t,className:"mainform__btn-option"},"day"),r.a.createElement("button",{value:"3",onClick:n,disabled:3===t,className:"mainform__btn-option"},"3 days"),r.a.createElement("button",{value:"7",onClick:n,disabled:7===t,className:"mainform__btn-option"},"week"),r.a.createElement("button",{value:"14",onClick:n,disabled:14===t,className:"mainform__btn-option"},"2 weeks"))}),s=function(e){var t=e.celsius,n=e.setUnit;return r.a.createElement("div",{className:"mainform__unit"},r.a.createElement("button",{value:"celsius",onClick:n,disabled:t,className:"mainform__btn-option"},"Celsius"),r.a.createElement("button",{value:"fahrenheit",onClick:n,disabled:!t,className:"mainform__btn-option"},"Fahrenheit"))},l=function(e){var t=e.onClick;return r.a.createElement("button",{className:"mainform__btn-menu",onClick:t,tabIndex:"0"},r.a.createElement("div",{className:"mainform__burger"},r.a.createElement("div",{className:"mainform__burger__inner"})),r.a.createElement("span",{className:"visuallyhidden"},"Menu"))},u=function(e){var t=e.onClick;return r.a.createElement("div",{className:"mainform__actions"},r.a.createElement("button",{className:"mainform__btn-close",onClick:t,tabIndex:"0"},"Close menu"))},m=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"white"},r.a.createElement("defs",null,r.a.createElement("path",{id:"a",d:"M0 0h24v24H0z"})),r.a.createElement("path",{d:"M11 8.75v3.68c0 .35.19.68.49.86l3.12 1.85c.36.21.82.09 1.03-.26.21-.36.1-.82-.26-1.03l-2.87-1.71v-3.4c-.01-.4-.35-.74-.76-.74-.41 0-.75.34-.75.75zm10 .75V4.21c0-.45-.54-.67-.85-.35l-1.78 1.78c-1.81-1.81-4.39-2.85-7.21-2.6-4.19.38-7.64 3.75-8.1 7.94C2.46 16.4 6.69 21 12 21c4.59 0 8.38-3.44 8.93-7.88.07-.6-.4-1.12-1-1.12-.5 0-.92.37-.98.86-.43 3.49-3.44 6.19-7.05 6.14-3.71-.05-6.84-3.18-6.9-6.9C4.94 8.2 8.11 5 12 5c1.93 0 3.68.79 4.95 2.05l-2.09 2.09c-.32.32-.1.86.35.86h5.29c.28 0 .5-.22.5-.5z"}))},f=function(){return r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"white"},r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),r.a.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}))},d=function(e){var t=e.onClick,n=e.loading;return r.a.createElement("button",{tabIndex:"0",onClick:function(e){e.currentTarget.blur(),t()},disabled:n,className:"mainform__btn-submit"},r.a.createElement("span",{className:"mainform__search-text"},n?"loading...":"Search"),r.a.createElement("span",{className:"mainform__search-icon"},n?r.a.createElement(m,null):r.a.createElement(f,null)))},p=function(e){var t=e.city,n=e.setCity,a=e.submitCity,i=e.loading;return r.a.createElement("input",{type:"text",value:t+(i?"...":""),tabIndex:"0",disabled:i,placeholder:"e.g. New York",className:"mainform__input",onChange:n,onKeyDown:function(e){return"Enter"===e.key&&a()}})};function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=E(e);if(t){var r=E(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(o,e);var t,n,a,i=b(o);function o(){var e;v(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return N(w(e=i.call.apply(i,[this].concat(n))),"state",{city:""}),N(w(e),"setCity",(function(t){return e.setState({city:t.target.value})})),N(w(e),"submitCity",(function(){return e.props.submitCity(e.state.city)})),N(w(e),"openMenu",(function(){return e.props.setMenu(!0)})),N(w(e),"closeMenu",(function(){return e.props.setMenu(!1)})),e}return t=o,(n=[{key:"componentDidUpdate",value:function(e){var t=e.appStatus!==this.props.appStatus,n="done"===this.props.appStatus,a=this.props.city;t&&n&&this.setState({city:a})}},{key:"render",value:function(){var e=this.props,t=e.city,n=e.menu,a=e.appStatus,i=e.period,o=e.celsius,m=n?"mainform__options":"mainform__options--hide",f="loading"===a,y=f?t:this.state.city;return r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header__inner"},r.a.createElement("h1",{className:"header__title"},"Weather forecast"),r.a.createElement("div",{className:"mainform"},r.a.createElement(l,{onClick:this.openMenu}),r.a.createElement("div",{className:"mainform__central"},r.a.createElement(p,{city:y,setCity:this.setCity,submitCity:this.submitCity,loading:f}),r.a.createElement("div",{className:m},r.a.createElement(c,{period:i,setPeriod:this.props.setPeriod}),r.a.createElement(s,{celsius:o,setUnit:this.props.setUnit}),r.a.createElement(u,{onClick:this.closeMenu}))),r.a.createElement(d,{onClick:this.submitCity,loading:f}))))}}])&&h(t.prototype,n),a&&h(t,a),o}(a.Component),S=function(e){return r.a.createElement("div",{className:"city-name"},r.a.createElement("label",{className:"city-name__favorite"},r.a.createElement("input",{type:"checkbox",name:"favorite",className:"city-name__checkbox",onChange:e.onChangeFavorite,checked:e.isFavorite}),r.a.createElement("span",{className:"city-name__value"},r.a.createElement("span",{className:"city-name__value__inner"},"favorite city"))),r.a.createElement("h1",{className:"city-name__title"},e.city))},k=n.p+"assets/images/spinner.svg",O=function(){return r.a.createElement("div",{className:"progress-bar"},r.a.createElement("img",{src:k,alt:"Loading...",className:"progress-bar__img"}))},M=function(e){var t=e.error;return r.a.createElement("div",{className:"error"},r.a.createElement("p",{className:"error__message"},t))};function j(e,t){window.history.pushState({},t,"?city="+e.split(" ").join("_"))}function P(e){for(var t in e=e.split(" "))e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join(" ")}function x(e,t){var n=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date(1e3*e);switch(t){case"D Month YYYY":return a.getDate()+" "+n[a.getMonth()]+" "+a.getFullYear();case"D Month":return a.getDate()+" "+n[a.getMonth()];case"Day":return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][a.getDay()];default:return a.toDateString()}}function D(e){return(9*e/5+32).toFixed(2)}function F(e){return!(!window.localStorage||!e)&&(window.localStorage.setItem("react-weather-app_favorite-city",e),!0)}function A(){return!!window.localStorage&&(window.localStorage.removeItem("react-weather-app_favorite-city"),!0)}var R=function(e){var t,a=e.data,i=e.celsius,o=a.temp+"°C",c=a.max_temp+"°C",s=a.min_temp+"°C";return i||(o=D(a.temp)+"°F",c=D(a.max_temp)+"°F",s=D(a.min_temp)+"°F"),t=function(e){var t={"ico-01":"c01d","ico-03":"c04d","ico-02":"c03d;c02d;c02d","ico-04":"a06d;a05d;a04d;a03d;a02d;a01d","ico-06":"t05d;t04d;t04d;t04d;t03d;t02d;t01d","ico-05":"u00d;r06d;r05d;r04d;f01d;r03d;r02d;r01d","ico-07":"s06d;s02d;s01d;s05d;s05d;s04d;s03d;s02d;s01d;d03d;d02d;d01d"};for(var n in t)if(~t[n].indexOf(e))return n+".png";return""}(a.weather.icon),t=n(316)("./"+t).default,r.a.createElement("div",{className:"day"},r.a.createElement("div",{className:"day__date"},r.a.createElement("div",{className:"day__date-full"},x(a.ts,"D Month")),r.a.createElement("div",{className:"day__date-day"},x(a.ts,"Day"))),r.a.createElement("div",{className:"day__icon"},r.a.createElement("img",{src:t,alt:a.weather.description,className:"day__img"})),r.a.createElement("div",{className:"day__temp-avg"},o),r.a.createElement("div",{className:"day__description"},a.weather.description),r.a.createElement("div",{className:"day__item"},r.a.createElement("div",{className:"day__item-key"},"Maximum temperature"),r.a.createElement("div",{className:"day__item-val"},c)),r.a.createElement("div",{className:"day__item"},r.a.createElement("div",{className:"day__item-key"},"Minimum temperature"),r.a.createElement("div",{className:"day__item-val"},s)),r.a.createElement("div",{className:"day__item"},r.a.createElement("div",{className:"day__item-key"},"Pressure"),r.a.createElement("div",{className:"day__item-val"},a.pres," mb")),r.a.createElement("div",{className:"day__item"},r.a.createElement("div",{className:"day__item-key"},"Humidity"),r.a.createElement("div",{className:"day__item-val"},a.rh," %")),r.a.createElement("div",{className:"day__item"},r.a.createElement("div",{className:"day__item-key"},"Wind"),r.a.createElement("div",{className:"day__item-val"},a.wind_cdir_full,", ",a.wind_spd," m/s")))},U=function(e){var t=e.forecast,n=e.period,a=e.celsius;return r.a.createElement("div",{className:"forecast"},t.data.slice(0,n).map((function(e){return r.a.createElement(R,{key:e.uid,data:e,celsius:a})})))},I=function(e){var t;switch(e.status){case"loading":t=r.a.createElement(O,null);break;case"error":t=r.a.createElement(M,{error:e.error});break;case"done":var n=e.favoriteCity.toLowerCase(),a=e.forecast.city_name.toLowerCase();t=r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{city:e.forecast.city_name,onChangeFavorite:e.onChangeFavorite,isFavorite:n===a}),r.a.createElement(U,{forecast:e.forecast,period:e.period,celsius:e.celsius}));break;default:t=null}return r.a.createElement("main",{className:e.visible?"main":"main--hide"},t)};function L(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var z=[];function Y(e){var t="https:"===window.location.protocol?"https://":"http://",n="".concat(t).concat("api.weatherbit.io/v2.0/forecast/daily","?key=").concat("351954d3a30a4b60ad716f1c73cc43ee","&lang=en&units=M&days=16&city=").concat(e);return fetch(n).then((function(e){if(200===e.status)return e.json();throw new Error(e.status)})).then((function(e){return function(e){return e.timestamp=Math.floor(Date.now()/1e3),e.cached_city=e.city_name.toLowerCase(),e.data=e.data.map((function(e,t){return e.uid=t,e})),z.unshift(e),e}(e)}))}var W=function(e){if(!function(e){return e.search(/^[a-zA-Z]+(?:[\s-][a-zA-Z]+)*$/)>=0}(e))return new Promise((function(){throw new Error(600)}));var t=function(e){var t=Math.floor(Date.now()/1e3);e=e.toLowerCase();var n,a=L(z);try{for(a.s();!(n=a.n()).done;){var r=n.value;if(e===r.cached_city&&t-r.timestamp<21600)return r}}catch(e){a.e(e)}finally{a.f()}}(e);return t?new Promise((function(e){return e(t)})):Y(e)};function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=q(e);if(t){var r=q(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?K(e):t}function K(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(o,e);var t,n,a,i=Z(o);function o(){var e;J(this,o);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return G(K(e=i.call.apply(i,[this].concat(n))),"state",{city:"",period:3,celsius:!0,forecast:null,status:"nothing",error:"",favoriteCity:"",menu:!1}),G(K(e),"setPeriod",(function(t){t.target.blur(),e.setState({period:Number(t.target.value)})})),G(K(e),"setUnit",(function(t){t.target.blur(),e.setState({celsius:"celsius"===t.target.value})})),G(K(e),"onChangeFavorite",(function(t){if(t.target.checked){var n=e.state.city.toLowerCase();F(n)&&e.setState({favoriteCity:n})}else A()&&e.setState({favoriteCity:""})})),G(K(e),"getForecastByCity",(function(t){W(t).then((function(t){j(t.city_name,"Weather: ".concat(t.city_name)),document.title="Weather: ".concat(t.city_name),e.setState({status:"done",forecast:t,city:t.city_name})})).catch((function(n){var a;switch(t&&(document.title="Weather: "+t),Number(n.message)){case 204:a="No forecast available";break;case 600:a="Invalid city name";break;default:a="Server is not available, please try again later"}e.setState({status:"error",error:a,forecast:null})}))})),G(K(e),"setMenu",(function(t){e.setState({menu:t})})),G(K(e),"submitCity",(function(t,n){var a={status:"loading",error:"",city:t=P(t)};n&&(a.favoriteCity=t),e.setState(a),e.getForecastByCity(t)})),e}return t=o,(n=[{key:"componentDidMount",value:function(){var e=function(){if(window.URLSearchParams){var e=new URLSearchParams(window.location.search).get("city")||"";return e?e.split("_").join(" "):""}return""}().toLowerCase(),t=(window.localStorage&&window.localStorage.getItem("react-weather-app_favorite-city")||"").toLowerCase();e?this.submitCity(e,e===t):t&&this.submitCity(t,!0)}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{appStatus:this.state.status,period:this.state.period,setPeriod:this.setPeriod,celsius:this.state.celsius,setUnit:this.setUnit,city:this.state.city,submitCity:this.submitCity,menu:this.state.menu,setMenu:this.setMenu}),r.a.createElement(I,{status:this.state.status,error:this.state.error,forecast:this.state.forecast,period:this.state.period,celsius:this.state.celsius,onChangeFavorite:this.onChangeFavorite,visible:!this.state.menu,favoriteCity:this.state.favoriteCity}))}}])&&H(t.prototype,n),a&&H(t,a),o}(a.Component),X=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"footer__sign"},"©")," ",r.a.createElement("span",{className:"footer__year"},(e=2018,t=(new Date).getFullYear(),e===t?e:"".concat(e," - ").concat(t)))," ",r.a.createElement("a",{href:"https://github.com/ermondel",target:"_blank",rel:"noreferrer",title:"Author",className:"footer__link"},"Serhii"));var e,t};o.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(Q,null),r.a.createElement(X,null)),document.getElementById("root"))}});